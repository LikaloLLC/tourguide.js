!function(){function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function e(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,d(o.key),o)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,s,u=[],a=!0,l=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(o=r.call(n)).done)&&(u.push(o.value),u.length!==e);a=!0);}catch(t){l=!0,i=t}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return u}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function d(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var p={exports:{}};!function(t){var e=function(t,n){return this instanceof e?t instanceof e?t:((t="string"==typeof t?this.select(t,n):t)&&t.nodeName&&(t=[t]),void(this.nodes=this.slice(t))):new e(t,n)};e.prototype={get length(){return this.nodes.length}},e.prototype.nodes=[],e.prototype.addClass=function(){return this.eacharg(arguments,(function(t,e){t.classList.add(e)}))},e.prototype.adjacent=function(t,n,o){return"number"==typeof n&&(n=0===n?[]:new Array(n).join().split(",").map(Number.call,Number)),this.each((function(i,r){var s=document.createDocumentFragment();e(n||{}).map((function(n,o){return"string"==typeof(o="function"==typeof t?t.call(this,n,o,i,r):t)?this.generate(o):e(o)})).each((function(t){this.isInPage(t)?s.appendChild(e(t).clone().first()):s.appendChild(t)})),o.call(this,i,s)}))},e.prototype.after=function(t,e){return this.adjacent(t,e,(function(t,e){t.parentNode.insertBefore(e,t.nextSibling)}))},e.prototype.append=function(t,e){return this.adjacent(t,e,(function(t,e){t.appendChild(e)}))},e.prototype.args=function(t,e,n){return(t="string"!=typeof(t="function"==typeof t?t(e,n):t)?this.slice(t).map(this.str(e,n)):t).toString().split(/[\s,]+/).filter((function(t){return t.length}))},e.prototype.array=function(t){var n=this;return this.nodes.reduce((function(o,i,r){var s;return t?(s="string"==typeof(s=(s=t.call(n,i,r))||!1)?e(s):s)instanceof e&&(s=s.nodes):s=i.innerHTML,o.concat(!1!==s?s:[])}),[])},e.prototype.attr=function(t,e,n){return n=n?"data-":"",this.pairs(t,e,(function(t,e){return t.getAttribute(n+e)}),(function(t,e,o){o?t.setAttribute(n+e,o):t.removeAttribute(n+e)}))},e.prototype.before=function(t,e){return this.adjacent(t,e,(function(t,e){t.parentNode.insertBefore(e,t)}))},e.prototype.children=function(t){return this.map((function(t){return this.slice(t.children)})).filter(t)},e.prototype.clone=function(){return this.map((function(t,e){var n=t.cloneNode(!0),o=this.getAll(n);return this.getAll(t).each((function(t,e){for(var n in this.mirror)this.mirror[n]&&this.mirror[n](t,o.nodes[e])})),n}))},e.prototype.getAll=function(t){return e([t].concat(e("*",t).nodes))},e.prototype.mirror={},e.prototype.mirror.events=function(t,n){if(t._e)for(var o in t._e)t._e[o].forEach((function(t){e(n).on(o,t.callback)}))},e.prototype.mirror.select=function(t,n){e(t).is("select")&&(n.value=t.value)},e.prototype.mirror.textarea=function(t,n){e(t).is("textarea")&&(n.value=t.value)},e.prototype.closest=function(t){return this.map((function(n){do{if(e(n).is(t))return n}while((n=n.parentNode)&&n!==document)}))},e.prototype.data=function(t,e){return this.attr(t,e,!0)},e.prototype.each=function(t){return this.nodes.forEach(t.bind(this)),this},e.prototype.eacharg=function(t,e){return this.each((function(n,o){this.args(t,n,o).forEach((function(t){e.call(this,n,t)}),this)}))},e.prototype.empty=function(){return this.each((function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))},e.prototype.filter=function(t){var n=t instanceof e?function(e){return-1!==t.nodes.indexOf(e)}:"function"==typeof t?t:function(e){return e.matches=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,e.matches(t||"*")};return e(this.nodes.filter(n))},e.prototype.find=function(t){return this.map((function(n){return e(t||"*",n)}))},e.prototype.first=function(){return this.nodes[0]||!1},e.prototype.generate=function(t){return/^\s*<tr[> ]/.test(t)?e(document.createElement("table")).html(t).children().children().nodes:/^\s*<t(h|d)[> ]/.test(t)?e(document.createElement("table")).html(t).children().children().children().nodes:/^\s*</.test(t)?e(document.createElement("div")).html(t).children().nodes:document.createTextNode(t)},e.prototype.handle=function(){var t=this.slice(arguments).map((function(t){return"function"==typeof t?function(e){e.preventDefault(),t.apply(this,arguments)}:t}),this);return this.on.apply(this,t)},e.prototype.hasClass=function(){return this.is("."+this.args(arguments).join("."))},e.prototype.html=function(t){return void 0===t?this.first().innerHTML||"":this.each((function(e){e.innerHTML=t}))},e.prototype.is=function(t){return 0<this.filter(t).length},e.prototype.isInPage=function(t){return t!==document.body&&document.body.contains(t)},e.prototype.last=function(){return this.nodes[this.length-1]||!1},e.prototype.map=function(t){return t?e(this.array(t)).unique():this},e.prototype.not=function(t){return this.filter((function(n){return!e(n).is(t||!0)}))},e.prototype.off=function(t,n,o){var i=null==n&&null==o,r=null,s=n;return"string"==typeof n&&(r=n,s=o),this.eacharg(t,(function(t,n){e(t._e?t._e[n]:[]).each((function(e){(i||e.orig_callback===s&&e.selector===r)&&t.removeEventListener(n,e.callback)}))}))},e.prototype.on=function(t,n,o){function i(t,e){try{Object.defineProperty(t,"currentTarget",{value:e,configurable:!0})}catch(t){}}var r=null,s=n;function u(t){return n.apply(this,[t].concat(t.detail||[]))}return"string"==typeof n&&(r=n,s=o,n=function(t){var n=arguments;e(t.currentTarget).find(r).each((function(e){var r;e.contains(t.target)&&(r=t.currentTarget,i(t,e),o.apply(e,n),i(t,r))}))}),this.eacharg(t,(function(t,e){t.addEventListener(e,u),t._e=t._e||{},t._e[e]=t._e[e]||[],t._e[e].push({callback:u,orig_callback:s,selector:r})}))},e.prototype.pairs=function(t,e,n,o){var i;return void 0!==e&&(i=t,(t={})[i]=e),"object"==typeof t?this.each((function(e,n){for(var i in t)"function"==typeof t[i]?o(e,i,t[i](e,n)):o(e,i,t[i])})):this.length?n(this.first(),t):""},e.prototype.param=function(t){return Object.keys(t).map(function(e){return this.uri(e)+"="+this.uri(t[e])}.bind(this)).join("&")},e.prototype.parent=function(t){return this.map((function(t){return t.parentNode})).filter(t)},e.prototype.prepend=function(t,e){return this.adjacent(t,e,(function(t,e){t.insertBefore(e,t.firstChild)}))},e.prototype.remove=function(){return this.each((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},e.prototype.removeClass=function(){return this.eacharg(arguments,(function(t,e){t.classList.remove(e)}))},e.prototype.replace=function(t,n){var o=[];return this.adjacent(t,n,(function(t,e){o=o.concat(this.slice(e.children)),t.parentNode.replaceChild(e,t)})),e(o)},e.prototype.scroll=function(){return this.first().scrollIntoView({behavior:"smooth"}),this},e.prototype.select=function(t,n){return t=t.replace(/^\s*/,"").replace(/\s*$/,""),/^</.test(t)?e().generate(t):(n||document).querySelectorAll(t)},e.prototype.serialize=function(){var t=this;return this.slice(this.first().elements).reduce((function(n,o){return!o.name||o.disabled||"file"===o.type||/(checkbox|radio)/.test(o.type)&&!o.checked?n:"select-multiple"===o.type?(e(o.options).each((function(e){e.selected&&(n+="&"+t.uri(o.name)+"="+t.uri(e.value))})),n):n+"&"+t.uri(o.name)+"="+t.uri(o.value)}),"").slice(1)},e.prototype.siblings=function(t){return this.parent().children(t).not(this)},e.prototype.size=function(){return this.first().getBoundingClientRect()},e.prototype.slice=function(t){return t&&0!==t.length&&"string"!=typeof t&&"[object Function]"!==t.toString()?t.length?[].slice.call(t.nodes||t):[t]:[]},e.prototype.str=function(t,e){return function(n){return"function"==typeof n?n.call(this,t,e):n.toString()}},e.prototype.text=function(t){return void 0===t?this.first().textContent||"":this.each((function(e){e.textContent=t}))},e.prototype.toggleClass=function(t,e){return!!e===e?this[e?"addClass":"removeClass"](t):this.eacharg(t,(function(t,e){t.classList.toggle(e)}))},e.prototype.trigger=function(t){var e=this.slice(arguments).slice(1);return this.eacharg(t,(function(t,n){var o,i={bubbles:!0,cancelable:!0,detail:e};try{o=new window.CustomEvent(n,i)}catch(t){(o=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,e)}t.dispatchEvent(o)}))},e.prototype.unique=function(){return e(this.nodes.reduce((function(t,e){return null!=e&&!1!==e&&-1===t.indexOf(e)?t.concat(e):t}),[]))},e.prototype.uri=function(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},e.prototype.wrap=function(t){return this.map((function(n){return e(t).each((function(t){(function(t){for(;t.firstElementChild;)t=t.firstElementChild;return e(t)})(t).append(n.cloneNode(!0)),n.parentNode.replaceChild(t,n)}))}))},t.exports&&(t.exports=e,t.exports.u=e)}(p);var h=p.exports,f="complete",g="canceled";function m(t,e,n){t.self===t?t.scrollTo(e,n):(t.scrollLeft=e,t.scrollTop=n)}function v(t){var e=t._scrollSettings;if(e){var n=e.maxSynchronousAlignments,o=function(t,e){var n,o,i,r,s,u,a,l=t.align,c=t.target.getBoundingClientRect(),d=l&&null!=l.left?l.left:.5,p=l&&null!=l.top?l.top:.5,h=l&&null!=l.leftOffset?l.leftOffset:0,f=l&&null!=l.topOffset?l.topOffset:0,g=d,m=p;if(t.isWindow(e))u=Math.min(c.width,e.innerWidth),a=Math.min(c.height,e.innerHeight),o=c.left+e.pageXOffset-e.innerWidth*g+u*g,i=c.top+e.pageYOffset-e.innerHeight*m+a*m,o-=h,i-=f,o=t.align.lockX?e.pageXOffset:o,i=t.align.lockY?e.pageYOffset:i,r=o-e.pageXOffset,s=i-e.pageYOffset;else{u=c.width,a=c.height,n=e.getBoundingClientRect();var v=c.left-(n.left-e.scrollLeft),y=c.top-(n.top-e.scrollTop);o=v+u*g-e.clientWidth*g,i=y+a*m-e.clientHeight*m,o-=h,i-=f,o=Math.max(Math.min(o,e.scrollWidth-e.clientWidth),0),i=Math.max(Math.min(i,e.scrollHeight-e.clientHeight),0),o=t.align.lockX?e.scrollLeft:o,i=t.align.lockY?e.scrollTop:i,r=o-e.scrollLeft,s=i-e.scrollTop}return{x:o,y:i,differenceX:r,differenceY:s}}(e,t),i=Date.now()-e.startTime,r=Math.min(1/e.time*i,1);if(e.endIterations>=n)return m(t,o.x,o.y),t._scrollSettings=null,e.end(f);var s=1-e.ease(r);if(m(t,o.x-o.differenceX*s,o.y-o.differenceY*s),i>=e.time)return e.endIterations++,e.scrollAncestor&&v(e.scrollAncestor),void v(t);!function(t){if("requestAnimationFrame"in window)return window.requestAnimationFrame(t);setTimeout(t,16)}(v.bind(null,t))}}function y(t){return t.self===t}function b(t){return"pageXOffset"in t||(t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth)&&"hidden"!==getComputedStyle(t).overflow}function x(){return!0}function w(t){if(t.assignedSlot)return w(t.assignedSlot);if(t.parentElement)return"BODY"===t.parentElement.tagName?t.parentElement.ownerDocument.defaultView||t.parentElement.ownerDocument.ownerWindow:t.parentElement;if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e.host}}var _=function(t,e,n){if(t){"function"==typeof e&&(n=e,e=null),e||(e={}),e.time=isNaN(e.time)?1e3:e.time,e.ease=e.ease||function(t){return 1-Math.pow(1-t,t/2)},e.align=e.align||{};var o=w(t),i=1,r=e.validTarget||x,s=e.isScrollable;e.debug&&(console.log("About to scroll to",t),o||console.error("Target did not have a parent, is it mounted in the DOM?"));for(var u=[];o;)if(e.debug&&console.log("Scrolling parent node",o),r(o,i)&&(s?s(o,b):b(o))&&(i++,u.push(o)),!(o=w(o))){a(f);break}return u.reduce(((n,o,i)=>function(t,e,n,o,i){var r,s=!e._scrollSettings,u=e._scrollSettings,a=Date.now(),l={passive:!0};function c(t){e._scrollSettings=null,e.parentElement&&e.parentElement._scrollSettings&&e.parentElement._scrollSettings.end(t),n.debug&&console.log("Scrolling ended with type",t,"for",e),i(t),r&&(e.removeEventListener("touchstart",r,l),e.removeEventListener("wheel",r,l))}u&&u.end(g);var d=n.maxSynchronousAlignments;return null==d&&(d=3),e._scrollSettings={startTime:a,endIterations:0,target:t,time:n.time,ease:n.ease,align:n.align,isWindow:n.isWindow||y,maxSynchronousAlignments:d,end:c,scrollAncestor:o},"cancellable"in n&&!n.cancellable||(r=c.bind(null,g),e.addEventListener("touchstart",r,l),e.addEventListener("wheel",r,l)),s&&v(e),r}(t,o,e,u[i+1],a)),null)}function a(t){--i||n&&n(t)}};function k(t,e){if(!t)throw"TourguideJS: ".concat(e);return!0}function C(t,e,n){return e=isNaN(e)?t:e,n=isNaN(n)?t:n,Math.max(e,Math.min(t,n))}function S(t){return t&&null!==t.offsetParent}function E(t,e){var n=h(t).size(),o=j(e);return{width:n.width,height:n.height,top:n.top+o.scrollY,bottom:n.bottom+o.scrollY,left:n.left+o.scrollX,right:n.right+o.scrollX,viewTop:n.top,viewBottom:n.bottom,viewLeft:n.left,viewRight:n.right}}function j(t){try{var e=h(t).size();return{width:window.innerWidth,height:window.innerHeight,scrollX:window.scrollX,scrollY:window.scrollY,rootWidth:e.width,rootHeight:e.height,rootTop:e.top,rootLeft:e.left}}catch(e){throw console.error(e),Error("element is invalid: ".concat(t))}}function O(t,e){Object.keys(e).forEach((function(t){"number"==typeof e[t]&&(e[t]=Math.floor(e[t])+"px")})),Object.assign(h(t).first().style,e)}function T(t,e,n){t.self===t?t.scrollTo(e,n):(t.scrollLeft=e,t.scrollTop=n)}function A(t,e){var n=Date.now();function o(t,i,r){if(t){var s=Date.now()-n,u=1-function(t){return 1-Math.pow(1-t,t/2)}(Math.min(1/e*s,1));T(t,i-(i-t.scrollLeft)*u,r-(r-t.scrollTop)*u),s>=e?T(t,i,r):function(t){if("requestAnimationFrame"in window)return window.requestAnimationFrame(t);setTimeout(t,16)}(o.bind(null,t,i,r))}else console.warn("target element ".concat(t," not found, skip"))}t.forEach((function(t){o(t.element,t.x,t.y)}))}function L(t){var e=[],n=h(t);do{n||(n=!1),n.first()||(n=!1);try{var o=n.first();o.scrollHeight===o.height&&o.scrollWidth===o.width||e.push({element:n.first(),x:n.first().scrollLeft,y:n.first().scrollTop}),n=n.parent()}catch(t){n=!1}}while(n);return e}function N(){return Math.max.apply(Math,a(Array.from(document.querySelectorAll("body *"),(function(t){return parseFloat(window.getComputedStyle(t).zIndex)})).filter((function(t){return!Number.isNaN(t)}))).concat([0]))}function R(t){return t.split("-")[0]}function M(t){return t.split("-")[1]}function P(t){return["top","bottom"].includes(R(t))?"x":"y"}function H(t){return"y"===t?"height":"width"}function D(t,e,n){let{reference:o,floating:i}=t;const r=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,u=P(e),a=H(u),l=o[a]/2-i[a]/2,c="x"===u;let d;switch(R(e)){case"top":d={x:r,y:o.y-i.height};break;case"bottom":d={x:r,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:s};break;case"left":d={x:o.x-i.width,y:s};break;default:d={x:o.x,y:o.y}}switch(M(e)){case"start":d[u]-=l*(n&&c?-1:1);break;case"end":d[u]+=l*(n&&c?-1:1)}return d}function B(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function z(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const I=Math.min,W=Math.max;const q=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=null!=t?t:{},{x:i,y:r,placement:s,rects:u,platform:a}=e;if(null==n)return{};const l=B(o),c={x:i,y:r},d=P(s),p=M(s),h=H(d),f=await a.getDimensions(n),g="y"===d?"top":"left",m="y"===d?"bottom":"right",v=u.reference[h]+u.reference[d]-c[d]-u.floating[h],y=c[d]-u.reference[d],b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(n));let x=b?"y"===d?b.clientHeight||0:b.clientWidth||0:0;0===x&&(x=u.floating[h]);const w=v/2-y/2,_=l[g],k=x-f[h]-l[m],C=x/2-f[h]/2+w,S=function(t,e,n){return W(t,I(e,n))}(_,C,k),E=("start"===p?l[g]:l[m])>0&&C!==S&&u.reference[h]<=u.floating[h];return{[d]:c[d]-(E?C<_?_-C:k-C:0),data:{[d]:S,centerOffset:C-S}}}}),X={left:"right",right:"left",bottom:"top",top:"bottom"};function F(t){return t.replace(/left|right|bottom|top/g,(t=>X[t]))}const Y={start:"end",end:"start"};const $=["top","right","bottom","left"].reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),V=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,i,r,s;const{x:u,y:a,rects:l,middlewareData:c,placement:d,platform:p,elements:h}=e,{alignment:f=null,allowedPlacements:g=$,autoAlignment:m=!0,...v}=t,y=function(t,e,n){return(t?[...n.filter((e=>M(e)===t)),...n.filter((e=>M(e)!==t))]:n.filter((t=>R(t)===t))).filter((n=>!t||M(n)===t||!!e&&function(t){return t.replace(/start|end/g,(t=>Y[t]))}(n)!==n))}(f,m,g),b=await async function(t,e){var n;void 0===e&&(e={});const{x:o,y:i,platform:r,rects:s,elements:u,strategy:a}=t,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=e,f=B(h),g=u[p?"floating"===d?"reference":"floating":d],m=z(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(g)))||n?g:g.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(u.floating)),boundary:l,rootBoundary:c,strategy:a})),v="floating"===d?{...s.floating,x:o,y:i}:s.reference,y=await(null==r.getOffsetParent?void 0:r.getOffsetParent(u.floating)),b=await(null==r.isElement?void 0:r.isElement(y))&&await(null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},x=z(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:y,strategy:a}):v);return{top:(m.top-x.top+f.top)/b.y,bottom:(x.bottom-m.bottom+f.bottom)/b.y,left:(m.left-x.left+f.left)/b.x,right:(x.right-m.right+f.right)/b.x}}(e,v),x=null!=(n=null==(o=c.autoPlacement)?void 0:o.index)?n:0,w=y[x];if(null==w)return{};const{main:_,cross:k}=function(t,e,n){void 0===n&&(n=!1);const o=M(t),i=P(t),r=H(i);let s="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=F(s)),{main:s,cross:F(s)}}(w,l,await(null==p.isRTL?void 0:p.isRTL(h.floating)));if(d!==w)return{x:u,y:a,reset:{placement:y[0]}};const C=[b[R(w)],b[_],b[k]],S=[...null!=(i=null==(r=c.autoPlacement)?void 0:r.overflows)?i:[],{placement:w,overflows:C}],E=y[x+1];if(E)return{data:{index:x+1,overflows:S},reset:{placement:E}};const j=S.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),O=null==(s=j.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:s.placement,T=null!=O?O:j[0].placement;return T!==d?{data:{index:x+1,overflows:S},reset:{placement:T}}:{}}}},J=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,i=await async function(t,e){const{placement:n,platform:o,elements:i}=t,r=await(null==o.isRTL?void 0:o.isRTL(i.floating)),s=R(n),u=M(n),a="x"===P(n),l=["left","top"].includes(s)?-1:1,c=r&&a?-1:1,d="function"==typeof e?e(t):e;let{mainAxis:p,crossAxis:h,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return u&&"number"==typeof f&&(h="end"===u?-1*f:f),a?{x:h*c,y:p*l}:{x:p*l,y:h*c}}(e,t);return{x:n+i.x,y:o+i.y,data:i}}}};function G(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function U(t){return G(t).getComputedStyle(t)}function Z(t){return nt(t)?(t.nodeName||"").toLowerCase():""}let K;function Q(){if(K)return K;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(K=t.brands.map((t=>t.brand+"/"+t.version)).join(" "),K):navigator.userAgent}function tt(t){return t instanceof G(t).HTMLElement}function et(t){return t instanceof G(t).Element}function nt(t){return t instanceof G(t).Node}function ot(t){return"undefined"!=typeof ShadowRoot&&(t instanceof G(t).ShadowRoot||t instanceof ShadowRoot)}function it(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=U(t);return/auto|scroll|overlay|hidden/.test(e+o+n)&&!["inline","contents"].includes(i)}function rt(t){return["table","td","th"].includes(Z(t))}function st(t){const e=/firefox/i.test(Q()),n=U(t),o=n.backdropFilter||n.WebkitBackdropFilter;return"none"!==n.transform||"none"!==n.perspective||!!o&&"none"!==o||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter||["transform","perspective"].some((t=>n.willChange.includes(t)))||["paint","layout","strict","content"].some((t=>{const e=n.contain;return null!=e&&e.includes(t)}))}function ut(){return!/^((?!chrome|android).)*safari/i.test(Q())}function at(t){return["html","body","#document"].includes(Z(t))}const lt={x:1,y:1};function ct(t){const e=!et(t)&&t.contextElement?t.contextElement:et(t)?t:null;if(!e)return lt;const n=e.getBoundingClientRect(),o=U(e);let i=n.width/parseFloat(o.width),r=n.height/parseFloat(o.height);return i&&Number.isFinite(i)||(i=1),r&&Number.isFinite(r)||(r=1),{x:i,y:r}}function dt(t,e,n,o){var i,r,s,u;void 0===e&&(e=!1),void 0===n&&(n=!1);const a=t.getBoundingClientRect();let l=lt;e&&(o?et(o)&&(l=ct(o)):l=ct(t));const c=et(t)?G(t):window,d=!ut()&&n,p=(a.left+(d&&null!=(i=null==(r=c.visualViewport)?void 0:r.offsetLeft)?i:0))/l.x,h=(a.top+(d&&null!=(s=null==(u=c.visualViewport)?void 0:u.offsetTop)?s:0))/l.y,f=a.width/l.x,g=a.height/l.y;return{width:f,height:g,top:h,right:p+f,bottom:h+g,left:p,x:p,y:h}}function pt(t){return((nt(t)?t.ownerDocument:t.document)||window.document).documentElement}function ht(t){return et(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ft(t){return dt(pt(t)).left+ht(t).scrollLeft}function gt(t,e,n){const o=tt(e),i=pt(e),r=dt(t,!0,"fixed"===n,e);let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(o||!o&&"fixed"!==n)if(("body"!==Z(e)||it(i))&&(s=ht(e)),tt(e)){const t=dt(e,!0);u.x=t.x+e.clientLeft,u.y=t.y+e.clientTop}else i&&(u.x=ft(i));return{x:r.left+s.scrollLeft-u.x,y:r.top+s.scrollTop-u.y,width:r.width,height:r.height}}function mt(t){if("html"===Z(t))return t;const e=t.assignedSlot||t.parentNode||(ot(t)?t.host:null)||pt(t);return ot(e)?e.host:e}function vt(t){return tt(t)&&"fixed"!==U(t).position?t.offsetParent:null}function yt(t){const e=G(t);let n=vt(t);for(;n&&rt(n)&&"static"===U(n).position;)n=vt(n);return n&&("html"===Z(n)||"body"===Z(n)&&"static"===U(n).position&&!st(n))?e:n||function(t){let e=mt(t);for(;tt(e)&&!at(e);){if(st(e))return e;e=mt(e)}return null}(t)||e}const bt=Math.min,xt=Math.max;function wt(t){const e=mt(t);return at(e)?t.ownerDocument.body:tt(e)&&it(e)?e:wt(e)}function _t(t,e){var n;void 0===e&&(e=[]);const o=wt(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=G(o);return i?e.concat(r,r.visualViewport||[],it(o)?o:[]):e.concat(o,_t(o))}function kt(t,e,n){return"viewport"===e?z(function(t,e){const n=G(t),o=pt(t),i=n.visualViewport;let r=o.clientWidth,s=o.clientHeight,u=0,a=0;if(i){r=i.width,s=i.height;const t=ut();(t||!t&&"fixed"===e)&&(u=i.offsetLeft,a=i.offsetTop)}return{width:r,height:s,x:u,y:a}}(t,n)):et(e)?function(t,e){const n=dt(t,!0,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=tt(t)?ct(t):{x:1,y:1},s=t.clientWidth*r.x,u=t.clientHeight*r.y,a=i*r.x,l=o*r.y;return{top:l,left:a,right:a+s,bottom:l+u,x:a,y:l,width:s,height:u}}(e,n):z(function(t){var e;const n=pt(t),o=ht(t),i=null==(e=t.ownerDocument)?void 0:e.body,r=xt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=xt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let u=-o.scrollLeft+ft(t);const a=-o.scrollTop;return"rtl"===U(i||n).direction&&(u+=xt(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:s,x:u,y:a}}(pt(t)))}const Ct={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r="clippingAncestors"===n?function(t,e){const n=e.get(t);if(n)return n;let o=_t(t).filter((t=>et(t)&&"body"!==Z(t))),i=null;const r="fixed"===U(t).position;let s=r?mt(t):t;for(;et(s)&&!at(s);){const t=U(s),e=st(s);(r?e||i:e||"static"!==t.position||!i||!["absolute","fixed"].includes(i.position))?i=t:o=o.filter((t=>t!==s)),s=mt(s)}return e.set(t,o),o}(e,this._c):[].concat(n),s=[...r,o],u=s[0],a=s.reduce(((t,n)=>{const o=kt(e,n,i);return t.top=xt(o.top,t.top),t.right=bt(o.right,t.right),t.bottom=bt(o.bottom,t.bottom),t.left=xt(o.left,t.left),t}),kt(e,u,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=tt(n),r=pt(n);if(n===r)return e;let s={scrollLeft:0,scrollTop:0},u={x:1,y:1};const a={x:0,y:0};if((i||!i&&"fixed"!==o)&&(("body"!==Z(n)||it(r))&&(s=ht(n)),tt(n))){const t=dt(n);u=ct(n),a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-s.scrollLeft*u.x+a.x,y:e.y*u.y-s.scrollTop*u.y+a.y}},isElement:et,getDimensions:function(t){if(tt(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=dt(t);return{width:e.width,height:e.height}},getOffsetParent:yt,getDocumentElement:pt,getScale:ct,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||yt,r=this.getDimensions;return{reference:gt(e,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===U(t).direction},St=(t,e,n)=>{const o=new Map,i={platform:Ct,...n},r={...i.platform,_c:o};return(async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,u=r.filter(Boolean),a=await(null==s.isRTL?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:d}=D(l,o,a),p=o,h={},f=0;for(let n=0;n<u.length;n++){const{name:r,fn:g}=u[n],{x:m,y:v,data:y,reset:b}=await g({x:c,y:d,initialPlacement:o,placement:p,strategy:i,middlewareData:h,rects:l,platform:s,elements:{reference:t,floating:e}});c=null!=m?m:c,d=null!=v?v:d,h={...h,[r]:{...h[r],...y}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(l=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:i}):b.rects),({x:c,y:d}=D(l,p,a))),n=-1)}return{x:c,y:d,placement:p,strategy:i,middlewareData:h}})(t,e,{...i,platform:r})};var Et={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function jt(t){return t.replace(RegExp("^"+(t.match(/^(\t| )+/)||"")[0],"gm"),"")}function Ot(t){return(t+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Tt(t,e){var n,o,i,r,s,u=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,a=[],l="",c=e||{},d=0;function p(t){var e=Et[t[1]||""],n=a[a.length-1]==t;return e?e[1]?(n?a.pop():a.push(t),e[0|n]):e[0]:t}function h(){for(var t="";a.length;)t+=p(a[a.length-1]);return t}for(t=t.replace(/^\[(.+?)\]:\s*(.+)$/gm,(function(t,e,n){return c[e.toLowerCase()]=n,""})).replace(/^\n+|\n+$/g,"");i=u.exec(t);)o=t.substring(d,i.index),d=u.lastIndex,n=i[0],o.match(/[^\\](\\\\)*\\$/)||((s=i[3]||i[4])?n='<pre class="code '+(i[4]?"poetry":i[2].toLowerCase())+'"><code'+(i[2]?' class="language-'+i[2].toLowerCase()+'"':"")+">"+jt(Ot(s).replace(/^\n+|\n+$/g,""))+"</code></pre>":(s=i[6])?(s.match(/\./)&&(i[5]=i[5].replace(/^\d+/gm,"")),r=Tt(jt(i[5].replace(/^\s*[>*+.-]/gm,""))),">"==s?s="blockquote":(s=s.match(/\./)?"ol":"ul",r=r.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),n="<"+s+">"+r+"</"+s+">"):i[8]?n='<img src="'+Ot(i[8])+'" alt="'+Ot(i[7])+'">':i[10]?(l=l.replace("<a>",'<a href="'+Ot(i[11]||c[o.toLowerCase()])+'">'),n=h()+"</a>"):i[9]?n="<a>":i[12]||i[14]?n="<"+(s="h"+(i[14]?i[14].length:i[13]>"="?1:2))+">"+Tt(i[12]||i[15],c)+"</"+s+">":i[16]?n="<code>"+Ot(i[16])+"</code>":(i[17]||i[1])&&(n=p(i[17]||"--"))),l+=o,l+=n;return(l+t.substring(d)+h()).replace(/^\n+|\n+$/g,"")}var At=function(){function t(i,r){var s,u=this;if(o(this,t),this.active=!1,this.first=!1,this.last=!1,this.container=null,this.highlight=null,this.tooltip=null,this.arrow=null,this.context=r,this._target=null,this._timerHandler=null,this._scrollCancel=null,i instanceof HTMLElement?(this.target=i,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.split(";"),i=e({},n);return o.forEach((function(t){var e=(t||"").split(":");i[(e[0]||"").trim()]=(e[1]||"").trim()})),i}(h(i).data("tour"))):(s=i,this._selector=i.selector),k(s.hasOwnProperty("title"),"missing required step parameter: title\n"+JSON.stringify(s,null,2)+"\nsee this doc for more detail: https://github.com/LikaloLLC/tourguide.js#json-based-approach"),k(s.hasOwnProperty("content"),"missing required step parameter: content\n"+JSON.stringify(s,null,2)+"\nsee this doc for more detail: https://github.com/LikaloLLC/tourguide.js#json-based-approach"),this.index=parseInt(s.step),this.title=s.title,this.content=Tt(s.content),this.image=s.image,this.width=s.width,this.height=s.height,this.layout=s.layout||"vertical",this.placement=s.placement||"bottom",this.overlay=!1!==s.overlay,this.navigation=!1!==s.navigation,s.image&&r.options.preloadimages&&!/^data:/i.test(s.image)){var a=new Image;a.onerror=function(){console.error(new Error("Invalid image URL: ".concat(s.image))),u.image=null},a.src=this.image}this.actions=[],s.actions&&(Array.isArray(s.actions)?this.actions=s.actions:console.error(new Error("actions must be array but got ".concat(n(s.actions)))))}return r(t,[{key:"el",get:function(){var t=this;if(!this.container){var e=h('<div role="figure" class="guided-tour-step-image">'.concat(this.image?'<img src="'.concat(this.image,'" />'):"","</div>")),n=h('<div class="guided-tour-step-content-wrapper">\n        <div id="tooltip-title-'.concat(this.index,'" role="heading" class="guided-tour-step-title">').concat(this.context._decorateText(this.title,this),'</div>\n        <div class="guided-tour-step-content">').concat(this.context._decorateText(this.content,this),"</div>\n      </div>"));if(n.find("a").on("click",(function(e){t.context.action(e,{action:"link"})})),Array.isArray(this.actions)&&this.actions.length>0){var o=h('<div class="guided-tour-step-actions">\n          '.concat(this.actions.map((function(t,e){return"<".concat(t.href?"a":"button",' id="').concat(t.id,'" ').concat(t.href?'href="'.concat(t.href,'"'):""," ").concat(t.target?'target="'.concat(t.target,'"'):"",' class="button').concat(t.primary?" primary":"",'" data-index="').concat(e,'">').concat(t.label,"</").concat(t.href?"a":"button",">")})).join(""),"\n        </div>"));o.find("a, button").on("click",(function(e){var n=t.actions[parseInt(e.target.dataset.index)];n.action&&e.preventDefault(),t.context.action(e,n)})),n.append(o)}var i=this.tooltip=h('<div role="document" class="guided-tour-step-tooltip"></div>');this.width&&O(i,{width:this.width+"px",maxWidth:this.width+"px"}),this.height&&O(i,{height:this.height+"px",maxHeight:this.height+"px"});var r=h('<div class="guided-tour-step-tooltip-inner'.concat("horizontal"===this.layout?" step-layout-horizontal":"",'"></div>')),s=h('<div class="guided-tour-step-content-container"></div>');s.append(e).append(n);var u=this.arrow=h('<div class="guided-tour-arrow"></div>');if(this.navigation){var a=h('<div class="guided-tour-step-footer">\n                  <button class="guided-tour-step-button guided-tour-step-button-close" title="End tour">\n                      <svg class="guided-tour-icon" viewBox="0 0 20 20" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-close"></use></svg>\n                  </button>\n                  '.concat(this.first?"":'<button class="guided-tour-step-button guided-tour-step-button-prev" title="Prev step">\n                    <svg class="guided-tour-icon" viewBox="0 0 20 20" width="32" height="32">\n                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-prev"></use>\n                    </svg>\n                  </button>',"\n                  ").concat(this.last?'<button class="guided-tour-step-button guided-tour-step-button-complete" title="Complete tour">\n                    <svg class="guided-tour-icon" viewBox="0 0 20 20" width="32" height="32">\n                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-complete"></use>\n                    </svg>\n                  </button>':'<button class="guided-tour-step-button guided-tour-step-button-next" title="Next step">\n                    <svg class="guided-tour-icon" viewBox="0 0 20 20" width="32" height="32">\n                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-next"></use>\n                    </svg>\n                  </button>',"\n                  ").concat(this.context._steps.length>1?'<div class="guided-tour-step-bullets">\n                      <ul>'.concat(this.context._steps.map((function(e,n){return'<li><button title="Go to step '.concat(n+1,'" data-index="').concat(n,'" class="').concat(e.index<t.index?"complete":e.index==t.index?"current":"",'"></button></li>')})).join(""),"</ul>\n                  </div>"):"","\n              </div>"));a.find(".guided-tour-step-button-prev").on("click",this.context.previous),a.find(".guided-tour-step-button-next").on("click",this.context.next),a.find(".guided-tour-step-button-close").on("click",this.context.stop),a.find(".guided-tour-step-button-complete").on("click",this.context.complete),a.find(".guided-tour-step-bullets button").on("click",(function(e){return t.context.go(parseInt(h(e.target).data("index")))})),r.append(u).append(s).append(a)}else r.append(u).append(s);if(i.append(r),this.container=h('<div role="dialog" aria-labelleby="tooltip-title-'.concat(this.index,'" class="guided-tour-step').concat(this.first?" guided-tour-step-first":"").concat(this.last?" guided-tour-step-last":"",'"></div>')),this.overlay&&S(this.target)){var l=this.highlight=h('<div class="guided-tour-step-highlight"></div>');this.container.append(l).append(i)}else this.container.append(i)}return this.container}},{key:"target",get:function(){return this._target||this._selector&&h(this._selector).first()},set:function(t){this._target=t}},{key:"attach",value:function(t){h(t).append(this.el)}},{key:"remove",value:function(){this.hide(),this.el.remove()}},{key:"position",value:function(){var t,e,n,o,i,r,u=j(this.context._options.root),a=this.tooltip,l=this.highlight,c={top:0,left:0,width:0,height:0};if(S(this.target)){if(this.overlay&&this.highlight){var d=E(this.target,this.context._options.root);c.top="".concat(d.top-this.context.options.padding,"px"),c.left="".concat(d.left-this.context.options.padding,"px"),c.width="".concat(d.width+2*this.context.options.padding,"px"),c.height="".concat(d.height+2*this.context.options.padding,"px"),O(l,c)}t=this.target,e=a.first(),n=this.arrow.first(),this.context,St(t,e,{middleware:[V({alignment:"bottom-start"}),J((function(t){switch(t.placement.split("-")[0]){case"top":return 32;case"left":case"right":return 24;default:return 6}})),q({element:n,padding:8}),(o={padding:24},i=o.padding,r=void 0===i?0:i,{name:"keepinview",fn:function(t){var e=t.x,n=t.y,o=t.rects,i=t.middlewareData,s=t.platform.getDimensions(document.body),u=C(e,r,s.width-o.floating.width-r),a=C(n,r,s.height-o.floating.height-r),l=e-u,c=n-a,d=i.arrow;return d&&(d.x&&l&&(d.x+=l),d.y&&c&&(d.y+=c)),{x:u,y:a}}})]}).then((function(t){var o=t.x,i=t.y,r=t.middlewareData,u=t.placement;if(O(e,{left:"".concat(o,"px"),top:"".concat(i,"px")}),r.arrow){var a={top:"bottom",right:"left",bottom:"top",left:"right"}[u.split("-")[0]];O(n,s({left:null!=r.arrow.x?"".concat(r.arrow.x,"px"):"",top:null!=r.arrow.y?"".concat(r.arrow.y,"px"):"",right:"",bottom:""},a,"".concat(-n.offsetWidth/2,"px")))}}))}else{this.overlay&&this.highlight&&O(l,c);var p={},h=E(a,this.context._options.root);p.top=u.height/2+u.scrollY-u.rootTop-h.height/2,p.left=u.width/2+u.scrollX-u.rootLeft-h.width/2,p.bottom="unset",p.right="unset",a.addClass("guided-tour-arrow-none"),O(a,p),this.overlay&&this.context._overlay.show()}}},{key:"cancel",value:function(){this._timerHandler&&clearTimeout(this._timerHandler),this._scrollCancel&&this._scrollCancel()}},{key:"show",value:function(){var t=this;if(this.cancel(),!this.active){var e=function(){t.el.addClass("active"),t.context._overlay.hide(),t.position(),t.active=!0,t.container.find(".guided-tour-step-tooltip, button.primary, .guided-tour-step-button-complete, .guided-tour-step-button-next").last().focus({preventScroll:!0})},n=C(this.context.options.animationspeed,120,1e3);return S(this.target)&&(this._scrollCancel=_(this.target,{time:n,cancellable:!1,align:{top:.5,left:.5}})),this._timerHandler=setTimeout(e,3*n),!0}return!1}},{key:"hide",value:function(){return this.cancel(),!!this.active&&(this.el.removeClass("active"),this.tooltip.removeClass("guided-tour-arrow-top"),this.tooltip.removeClass("guided-tour-arrow-bottom"),this.overlay&&this.context._overlay.show(),this.active=!1,!0)}},{key:"toJSON",value:function(){return{index:this.index,title:this.title,content:this.content,image:this.image,active:this.active}}}]),t}(),Lt=function(){function t(e){o(this,t),this.context=e,this.container=null,this.active=!1}return r(t,[{key:"el",get:function(){return this.container||(this.container=h('<div role="dialog" class="guided-tour-overlay"></div>')),this.container}},{key:"attach",value:function(t){h(t).append(this.el)}},{key:"remove",value:function(){this.hide(),this.el.remove()}},{key:"show",value:function(){return!this.active&&(this.el.addClass("active"),this.active=!0,!0)}},{key:"hide",value:function(){return!!this.active&&(this.el.removeClass("active"),this.active=!1,!0)}},{key:"toJSON",value:function(){return{active:this.active}}}]),t}();function Nt(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function Rt(t,e,n){return"#"+Nt(Math.floor(t))+Nt(Math.floor(e))+Nt(Math.floor(n))}function Mt(t,e,n){t/=255,e/=255,n/=255;var o=Math.max(t,e,n),i=o-Math.min(t,e,n),r=i?o===t?(e-n)/i:o===e?2+(n-t)/i:4+(t-e)/i:0;return[60*r<0?60*r+360:60*r,100*(i?o<=.5?i/(2*o-i):i/(2-(2*o-i)):0),100*(2*o-i)/2]}function Pt(t){return Mt.apply(null,function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}(t))}function Ht(t,e,n){return Rt.apply(null,function(t,e,n){n/=100;var o=function(e){return(e+t/30)%12},i=(e/=100)*Math.min(n,1-n),r=function(t){return n-i*Math.max(-1,Math.min(o(t)-3,Math.min(9-o(t),1)))};return[255*r(0),255*r(8),255*r(4)]}(t,e,n))}function Dt(t,e,n,o){var i=Pt(t);return i[0]=C(i[0]*e,0,255),i[1]=C(i[1]*n,0,255),i[2]=C(i[2]*o,0,255),Ht.apply(null,i)}function Bt(t,e){var n=Object.assign(t,e||{}),o=/Color$/,i=n.accentColor;return Object.keys(n).filter((function(t){return o.test(t)&&"auto"===n[t]})).forEach((function(t){switch(t){case"focusColor":case"stepButtonNextColor":case"stepButtonCompleteColor":case"bulletCurrentColor":n[t]=i;break;case"bulletColor":n[t]=Dt(i,1,.8,1.4);break;case"bulletVisitedColor":n[t]=Dt(i,1,.3,1.2);break;case"stepButtonPrevColor":case"stepButtonCloseColor":n[t]=Dt(i,1,.2,.8)}})),n}var zt=r((function t(e,n){o(this,t),this.name=e,this.onAction=n}));var It=function(){function t(e,n){o(this,t),this.match="string"==typeof e?new RegExp("{s*".concat(e.trim(),"s*(,.+?)?s*?}"),"gmi"):e,this.decoratorFn=n}return r(t,[{key:"test",value:function(t){return this.match.test(t)}},{key:"render",value:function(t,e,n){try{var o=function(t,e){var n,o,i=[];for(e.lastIndex=0;null!==(n=e.exec(t));)n.index===e.lastIndex&&e.lastIndex++,i.push({match:n[0],start:n.index,length:n[0].length,properties:(o=n[1],(o||"").split(",").map((function(t){return t.trim()})).filter(Boolean))});return i}(t,this.match).reverse();return this.decoratorFn(t,o,e,n)}catch(e){return console.warn(e),t}}}]),t}(),Wt=0,qt=1,Xt=2,Ft={next:"ArrowRight",prev:"ArrowLeft",first:"Home",last:"End",complete:null,stop:"Escape"},Yt={fontFamily:"sans-serif",fontSize:"14px",tooltipWidth:"40vw",overlayColor:"rgba(0, 0, 0, 0.5)",textColor:"#333",accentColor:"#0d6efd",focusColor:"auto",bulletColor:"auto",bulletVisitedColor:"auto",bulletCurrentColor:"auto",stepButtonCloseColor:"auto",stepButtonPrevColor:"auto",stepButtonNextColor:"auto",stepButtonCompleteColor:"auto",backgroundColor:"#fff"};function $t(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"keyup";if("object"===n(t)){var r={type:i};if("number"==typeof o)r.keyCode=o;else if("string"==typeof o)r.key=o;else{if("object"!==n(o))throw new Error("keyboardNavigation option invalid. should be predefined object or false. Check documentation.");r=e(e({},o),{},{type:i})}var s=Object.entries(r).map((function(t){var e=u(t,2);return{key:e[0],value:e[1]}}));return!s.filter((function(e){return t[e.key]!==e.value})).length}return!1}var Vt=function(){function t(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,t),this._options=Object.assign({root:"body",selector:"[data-tour]",animationspeed:120,padding:5,steps:null,src:null,restoreinitialposition:!0,preloadimages:!1,request:{options:{mode:"cors",cache:"no-cache"},headers:{"Content-Type":"application/json"}},keyboardNavigation:Ft,actionHandlers:[],contentDecorators:[],onStart:function(){},onStop:function(){},onComplete:function(){},onStep:function(){},onAction:function(){}},r,{style:Bt(Yt,r.colors||r.style)}),this._overlay=null,this._steps=[],this._current=0,this._active=!1,this._stepsSrc=Wt,this._ready=!1,this._initialposition=null,"object"===n(this._options.steps)&&Array.isArray(this._options.steps))this._stepsSrc=qt,this._steps=this._options.steps.map((function(t,n){return new At(e(e({},t),{},{step:t.step||n}),i)})),this._ready=!0;else if("string"==typeof this._options.src)this._stepsSrc=Xt,fetch(new Request(this._options.src,this._options.request)).then((function(t){return t.json().then((function(t){i._steps=t.map((function(t,n){return new At(e(e({},t),{},{step:t.step||n}),i)})),i._ready=!0}))}));else{if(!(h(this._options.selector).length>0))throw new Error("Tour is not configured properly. Check documentation.");this._stepsSrc=Wt,this._ready=!0}this._containerElement=document.createElement("aside"),this._containerElement.classList.add("__guided-tour-container"),h(this._options.root).append(this._containerElement),this._shadowRoot=this._containerElement.attachShadow({mode:"closed"}),this._injectIcons(),this._injectStyles(),this.start=this.start.bind(this),this.next=this.next.bind(this),this.previous=this.previous.bind(this),this.go=this.go.bind(this),this.stop=this.stop.bind(this),this.complete=this.complete.bind(this),this._keyboardHandler=this._keyboardHandler.bind(this)}return r(t,[{key:"currentstep",get:function(){return this._steps[this._current]}},{key:"length",get:function(){return this._steps.length}},{key:"steps",get:function(){return this._steps.map((function(t){return t.toJSON()}))}},{key:"hasnext",get:function(){return this.nextstep!==this._current}},{key:"nextstep",get:function(){return C(this._current+1,0,this.length-1)}},{key:"previousstep",get:function(){return C(this._current-1,0)}},{key:"options",get:function(){return this._options}},{key:"_injectIcons",value:function(){0===h("#GuidedTourIconSet",this._shadowRoot).length&&h(this._shadowRoot).append(h('<svg id="GuidedTourIconSet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;">\n<symbol id="tour-icon-close" viewBox="0 0 20 20"><g fill="none" stroke="currentColor" stroke-width="2"><path d="M16,16 L4,4"></path><path d="M16,4 L4,16"></path></g></symbol>\n<symbol id="tour-icon-next" viewBox="0 0 20 20"><polyline points="7 4 13 10 7 16" fill="none" stroke="currentColor" stroke-width="1"></polyline></symbol>\n<symbol id="tour-icon-prev" viewBox="0 0 20 20"><polyline points="12 4 6 10 12 16" fill="none" stroke="currentColor" stroke-width="1"></polyline></symbol>\n<symbol id="tour-icon-complete" viewBox="0 0 20 20"><polyline points="4,10 8,15 17,4" fill="none" stroke="currentColor" stroke-width="1"></polyline></symbol>\n</svg>'))}},{key:"_injectStyles",value:function(){var t=h("<style>".concat(":host {\n  position: absolute;\n  overflow: visible;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 0;\n  box-sizing: border-box;\n  line-height: 1.4;\n  text-align: left;\n  text-rendering: optimizespeed;\n  font-family: var(--tourguide-font-family);\n  font-size: var(--tourguide-font-size);\n  color: var(--tourguide-text-color);\n  /* 1 */\n  -webkit-text-size-adjust: 100%;\n  /* 2 */\n  -moz-tab-size: 4;\n  /* 3 */\n  tab-size: 4;\n  /* 3 */\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: none;\n  border-width: 0;\n  border-style: none;\n  border-color: currentColor;\n  box-shadow: none;\n  color: inherit;\n  appearance: none;\n  font-size: inherit;\n  font-weight: inherit;\n  text-decoration: none;\n}\n\na,\nbutton {\n  cursor: pointer;\n}\na:hover, a:focus,\nbutton:hover,\nbutton:focus {\n  outline: 5px auto var(--tourguide-focus-color);\n}\n\n.guided-tour-overlay {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  background-color: var(--tourguide-overlay-color);\n}\n.guided-tour-overlay.active {\n  display: block;\n}\n\n.guided-tour-step {\n  display: none;\n}\n.guided-tour-step.active {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: all;\n}\n.guided-tour-step.active .guided-tour-step-highlight {\n  position: absolute;\n  box-sizing: border-box;\n  border-radius: 4px;\n  box-shadow: 0 0 0 999em var(--tourguide-overlay-color);\n  z-index: 1;\n}\n.guided-tour-step.active .guided-tour-step-tooltip {\n  position: absolute;\n  margin: 16px 0;\n  z-index: 2;\n  background-color: var(--tourguide-background-color);\n  width: var(--tourguide-tooltip-width);\n  max-width: max-content;\n  border-radius: 5px;\n  box-sizing: border-box;\n  box-shadow: 0 0 3em -0.8em #000;\n  transition: opacity 150ms;\n}\n@media screen and (max-width: 760px) {\n  .guided-tour-step.active .guided-tour-step-tooltip {\n    max-width: 85vw;\n    width: max-content !important;\n  }\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-arrow {\n  position: absolute;\n  width: 1em;\n  height: 1em;\n  background: var(--tourguide-background-color);\n  z-index: -1;\n  transform: rotate(45deg);\n  pointer-events: none;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content-container {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  height: calc(100% - 2.6em);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-image {\n  flex-grow: 1;\n  flex-shrink: 1;\n  overflow: hidden;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-image img {\n  width: 100%;\n  height: 100%;\n  border-radius: 4px 4px 0 0;\n  object-fit: cover;\n  object-position: center;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content-wrapper {\n  margin: 1.5em 2.5em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-title {\n  font-size: 1.4em;\n  margin-bottom: 0.8em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content {\n  flex-shrink: 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content b,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content strong {\n  font-weight: bold;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content i,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content em {\n  font-style: italic;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content a {\n  cursor: pointer;\n  text-decoration: underline;\n  color: var(--tourguide-accent-color);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content mark {\n  background: inherit;\n  text-shadow: 0px 2px 4px #ff0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content code,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content dfn {\n  padding: 1px 6px 1px 4px;\n  border-radius: 4px;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content code {\n  background-color: #f0f0f0;\n  color: #e83e8c;\n  font-family: monospace;\n  font-size: 87.5%;\n  word-break: break-word;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content dfn {\n  font-style: italic;\n  background-color: #ffc6e5;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content p,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content blockquote {\n  margin: 1em 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content p:last-child,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul:last-child,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol:last-child,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content blockquote:last-child {\n  margin-bottom: 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content blockquote {\n  padding-left: 1em;\n  border-left: 4px solid silver;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol {\n  padding-left: 1.5em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul li,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol li {\n  margin: 0.3em 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions {\n  display: flex;\n  column-gap: 0.5em;\n  margin-top: 1.5em;\n  justify-content: end;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button {\n  color: var(--tourguide-accent-color);\n  padding: 0.5em 1em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button.primary {\n  background: var(--tourguide-accent-color);\n  padding: 0.5em 1.5em;\n  color: #fff;\n  border-radius: 4px;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button.primary:hover, .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button.primary:focus {\n  filter: brightness(120%);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-icon {\n  display: inline-block;\n  overflow: hidden;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button {\n  flex-direction: column;\n  justify-content: center;\n  /* <-- actual veertical align */\n  display: inline-flex;\n  text-align: center;\n  cursor: pointer;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button .guided-tour-icon {\n  align-self: center;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 2em;\n  height: 2em;\n  color: var(--tourguide-step-button-close-color);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-prev,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-next,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-complete {\n  width: 3em;\n  height: 3em;\n  background: var(--tourguide-background-color);\n  border-radius: 50%;\n  margin-top: -1.5em;\n  position: absolute;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-prev {\n  color: var(--tourguide-step-button-prev-color);\n  left: 0;\n  transform: translateX(-50%);\n  top: 50%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-next {\n  color: var(--tourguide-step-button-next-color);\n  right: 0;\n  transform: translateX(50%);\n  top: 50%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-complete {\n  color: var(--tourguide-step-button-complete-color);\n  right: 0;\n  transform: translateX(50%);\n  top: 50%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-footer {\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets {\n  text-align: center;\n  line-height: 16px;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul {\n  list-style: none;\n  margin: 0 1em 1em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li {\n  display: inline-block;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li button {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  display: inline-block;\n  background-color: var(--tourguide-bullet-color);\n  border: 8px solid var(--tourguide-background-color);\n  box-sizing: content-box;\n  cursor: pointer;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li button.complete {\n  background-color: var(--tourguide-bullet-visited-color);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li button.current {\n  background-color: var(--tourguide-bullet-current-color);\n}\n@media screen and (min-width: 760px) {\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container {\n    flex-direction: row;\n    height: 100%;\n  }\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container .guided-tour-step-content-wrapper {\n    flex: 1 1 auto;\n  }\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container .guided-tour-step-image {\n    width: 50%;\n    margin-bottom: calc((1em + 24px) * -1);\n    flex: 0 0 auto;\n  }\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container .guided-tour-step-image img {\n    border-radius: 4px 0 0 4px;\n    height: 100%;\n    object-fit: cover;\n    object-position: center;\n  }\n}\n.guided-tour-step.active .guided-tour-step-tooltip.guided-tour-arrow-none .guided-tour-step-tooltip-inner .guided-tour-arrow {\n  display: none;\n}","</style>"));h(this._shadowRoot).append(t);var e=h("<style>".concat(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--tourguide",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":host",o=[];return Object.entries(t).forEach((function(t){for(var n=u(t,2),i=n[0],r=n[1],s=[e],a=0,l=0;l<i.length;l+=1)"A"<=i[l]&&i[l]<="Z"&&(s.push(i.substring(a,l).toLowerCase()),a=l);s.push(i.substring(a,i.length).toLowerCase()),o.push("".concat(s.join("-"),": ").concat(r))})),"".concat(n," {\n").concat(o.join(";\n"),";\n}")}(this._options.style,"--tourguide"),"</style>"));h(this._shadowRoot).append(e)}},{key:"_keyboardHandler",value:function(t){this._options.keyboardNavigation.next&&$t(t,this._options.keyboardNavigation.next)?this.next():this._options.keyboardNavigation.prev&&$t(t,this._options.keyboardNavigation.prev)?this.previous():this._options.keyboardNavigation.first&&$t(t,this._options.keyboardNavigation.first)?this.go(0):this._options.keyboardNavigation.last&&$t(t,this._options.keyboardNavigation.last)?this.go(this._steps.length-1):this._options.keyboardNavigation.stop&&$t(t,this._options.keyboardNavigation.stop)?this.stop():this._options.keyboardNavigation.complete&&$t(t,this._options.keyboardNavigation.complete)&&this.complete()}},{key:"_decorateText",value:function(t,e){var n=this,o=t;return this._options.contentDecorators.forEach((function(t){t.test(o)&&(o=t.render(o,e,n))})),o}},{key:"init",value:function(){var t=this;if(this.reset(),this._overlay=new Lt(this),this._stepsSrc===Wt){var e=h(this._options.selector).nodes;this._steps=e.map((function(e){return new At(e,t)}))}this._steps=this._steps.sort((function(t,e){return t.index-e.index})),this._steps[0].first=!0,this._steps[this.length-1].last=!0}},{key:"reset",value:function(){this._active&&this.stop(),this._stepsSrc===Wt&&(this._steps=[]),this._current=0}},{key:"start",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._ready){if(this._containerElement.style.zIndex=N()+1,this._options.restoreinitialposition&&(this._initialposition=L(this._options.root)),this._active)this.go(e,"start");else if(h(this._options.root).addClass("__guided-tour-active"),this.init(),this._overlay.attach(this._shadowRoot),this._steps.forEach((function(e){return e.attach(t._shadowRoot)})),this._current=e,this.currentstep.show(),this._active=!0,this._options.onStart(this._options),this._options.keyboardNavigation){if("[object Object]"!==Object.prototype.toString.call(this._options.keyboardNavigation))throw new Error("keyboardNavigation option invalid. should be predefined object or false. Check documentation.");h(":root").on("keyup",this._keyboardHandler)}}else setTimeout((function(){t.start(e)}),50)}},{key:"action",value:function(t,e){if(this._active){switch(e.action){case"next":this.next();break;case"previous":this.previous();break;case"stop":this.stop();break;case"complete":this.complete();break;default:var n=this._options.actionHandlers.find((function(t){return t.name===e.action}));n&&n.onAction(t,e,this)}"function"==typeof this._options.onAction&&this._options.onAction(t,e,this)}}},{key:"next",value:function(){this._active&&this.go(this.nextstep,"next")}},{key:"previous",value:function(){this._active&&this.go(this.previousstep,"previous")}},{key:"go",value:function(t,e){this._active&&this._current!==t&&(this.currentstep.hide(),this._current=C(t,0,this.length-1),this.currentstep.show(),this._options.onStep(this.currentstep,e))}},{key:"stop",value:function(){this._active&&(this.currentstep.hide(),this._active=!1,this._overlay.remove(),this._steps.forEach((function(t){return t.remove()})),h(this._options.root).removeClass("__guided-tour-active"),this._options.keyboardNavigation&&h(":root").off("keyup",this._keyboardHandler),this._options.restoreinitialposition&&this._initialposition&&A(this._initialposition,this._options.animationspeed),this._options.onStop(this._options))}},{key:"complete",value:function(){this._active&&(this.stop(),this._options.onComplete())}},{key:"deinit",value:function(){this._ready&&(this._containerElement.remove(),this._containerElement=null,this._active=!1,this._ready=!1)}}]),t}();Vt.ActionHandler=zt,Vt.ContentDecorator=It}();
